// AreaNameDialog.cpp : implementation file
//

#include "stdafx.h"
#include "editor.h"
#include "AreaNameDialog.h"

#ifdef _DEBUG
#define new DEBUG_NEW
#undef THIS_FILE
static char THIS_FILE[] = __FILE__;
#endif

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CAreaNameDialog::CAreaNameDialog( CWnd* pParent )
	: CDialog( CAreaNameDialog::IDD, pParent )
{
	//{{AFX_DATA_INIT(CAreaNameDialog)
	m_name = _T("");
	//}}AFX_DATA_INIT
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CAreaNameDialog::DoDataExchange( CDataExchange* pDX )
{
	CDialog::DoDataExchange(pDX);
	//{{AFX_DATA_MAP(CAreaNameDialog)
	DDX_Text(pDX, IDC_AREA_NAME_EDIT, m_name);
	//}}AFX_DATA_MAP
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
BEGIN_MESSAGE_MAP(CAreaNameDialog, CDialog)
	//{{AFX_MSG_MAP(CAreaNameDialog)
	ON_EN_CHANGE(IDC_AREA_NAME_EDIT, OnChangeAreaNameEdit)
	//}}AFX_MSG_MAP
END_MESSAGE_MAP()

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CAreaNameDialog::UpdateControls()
{
	if ( CWnd *pWnd = GetDlgItem( IDC_AREA_NAME_EDIT ) )
	{
		CString strText;
		pWnd->GetWindowText( strText );
		if ( pWnd = GetDlgItem( IDOK ) )
		{
			pWnd->EnableWindow( !strText.IsEmpty() );
		}
	}
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void CAreaNameDialog::OnChangeAreaNameEdit() 
{
	UpdateControls();
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
