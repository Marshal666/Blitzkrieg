#ifndef __GLOBALVARSINTERNAL_H__
#define __GLOBALVARSINTERNAL_H__
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma ONCE
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "GlobalVars2.h"
#include "..\Misc\VarSystemInternal.h"
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
class CGlobalVars2 : public CTVarSystem< SSerialVariantT, CTRefCount<IGlobalVars2> >
{
	OBJECT_SERVICE_METHODS( CGlobalVars2 );
	typedef CTVarSystem< SSerialVariantT, CTRefCount<IGlobalVars2> > CBase;
public:
	CGlobalVars2();
	virtual ~CGlobalVars2() {  }
	//
	IGlobalVarsIterator* STDCALL CreateIterator() const;
};
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
struct SGlobalVarsSorter
{
	void Sort( std::list<CGlobalVars2::CVarsMap::const_iterator> &vals );
};
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
typedef CTVarSystemIterator<CGlobalVars2, CTRefCount<IGlobalVarsIterator>, SGlobalVarsSorter> CGlobalVarsIterator;
/*
class CGlobalVarsIterator : public CTVarSystemIterator<CGlobalVars2, CTRefCount<IGlobalVarsIterator>, SGlobalVarsSorter>
{
	typedef CTVarSystemIterator<CGlobalVars2, CTRefCount<IGlobalVarsIterator>, SGlobalVarsSorter> CBase;
public:
	CGlobalVarsIterator( CGlobalVars2 *pGV );
	virtual ~CGlobalVarsIterator() {  }
};
*/
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#endif // __GLOBALVARSINTERNAL_H__
